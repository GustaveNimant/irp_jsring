<!DOCTYPE html>
<!-- https://www.valentinog.com/blog/html-table/ -->
<html lang="en">
    <head>
	<meta charset="UTF-8">
	<title>Build a table</title>
    </head>
    <body>
	<table>
	    <caption id="caption">
	    </caption>
	    <!-- here goes our data! -->
	</table>
    </body>
    
    <script>
     let mountains = [
	 { name: "Monte Falco", height: 1658, place: "Parco Foreste Casentinesi" },
	 { name: "Monte Falterona", height: 1654, place: "Parco Foreste Casentinesi" },
	 { name: "Poggio Scali", height: 1520, place: "Parco Foreste Casentinesi" },
	 { name: "Pratomagno", height: 1592, place: "Parco Foreste Casentinesi" },
	 { name: "Monte Amiata", height: 1738, place: "Siena" }
     ];

     function generateCaption(caption) {
	 let ele = document.getElementById("caption");
         ele.innerHTML = caption;
	 
	 console.log('generateCaption ele',ele);
	 console.log('generateCaption ele.attributes',ele.attributes);
	 ele.style.color = "blue";
	 ele.style.border = "2px solid blue";
     }
     
     function generateTableHead(table, data) {
	 let thead = table.createTHead();
	 generateCaption("The Mountains");
	 let tr = createElementTable (thead,'tr', '');
	 for (let key of data) {
	     console.log('generateTableHead key',key);
	     createElementTable (tr, 'th', key)
	 }
     }
     
     let table = document.querySelector("table");
     console.log('table',table);
     let data = Object.keys(mountains[0]);
     console.log('data',data);
     
     function generateTable(table, data) {
	 for (let element of data) {
	     console.log('generateTable element',element);
	     let tr = createElementTable (table,'tr', '');
	     console.log('generateTable tr',tr);
	     for (key in element) {
		 console.log('generateTable key',key);
		 let text = document.createTextNode(element[key]);
		 createElementTable (tr, 'td', text.data);
		 /*
		    let cell = tr.insertCell();
		    console.log('generateTable cell',cell);
		    console.log('generateTable text.data',text.data);
		    cell.appendChild(text);
		    cell.style.border="2px solid green";
		  */
	     }
	 }
     }
     
     generateTable(table, mountains);
     generateTableHead(table, data);

     function createElement (tag, id, value) {
	 let doc_tag = document.createElement (tag);
	 doc_tag.id = id;
	 doc_tag.innerHTML = value;
	 document.body.appendChild (doc_tag);
     }

     function createElementTable (ele, tag, value) {
	 let doc = document.createElement (tag);
	 doc.style = "padding:7px";
	 doc.innerHTML = value;
	 ele.appendChild (doc);
	 return doc;
     }
     
    </script>
</html>
